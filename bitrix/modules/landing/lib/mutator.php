<? namespace Bitrix\Landing;$GLOBALS['____1113435816']= array(base64_decode(''.'ZGVm'.'aW5l'),base64_decode('ZXhw'.'b'.'G'.'9kZ'.'Q=='),base64_decode('cGFjaw=='),base64_decode('bWQ1'),base64_decode(''.'Y29uc3'.'RhbnQ='),base64_decode('a'.'GFzaF9obWF'.'j'),base64_decode(''.'c3Ry'.'Y'.'21'.'w'),base64_decode('Z'.'XhwbG9kZQ=='),base64_decode('bW'.'t0aW'.'1'.'l'),base64_decode('dGltZQ=='),base64_decode('Z'.'XhwbG9kZQ=='),base64_decode('c'.'GF'.'j'.'aw=='),base64_decode('bWQ1'),base64_decode('Y'.'29uc3Rhbn'.'Q='),base64_decode('aGFzaF9o'.'b'.'WFj'),base64_decode('c3RyY2'.'1w'),base64_decode('ZXhwbG9kZQ='.'='),base64_decode('b'.'Wt0a'.'W1l'),base64_decode('dGltZ'.'Q=='),base64_decode('aW5'.'fYX'.'Jy'.'YXk='),base64_decode('cHJlZ19yZXBsYWNlX2Nh'.'bGxiYWNr'),base64_decode(''.'c3RydG'.'9s'.'b3dlcg=='),base64_decode('cHJlZ'.'19tY'.'XRj'.'aA'.'=='),base64_decode('cH'.'JlZ19yZXBsYWNlX2'.'NhbG'.'xi'.'YWN'.'r'));if(!function_exists(__NAMESPACE__.'\\___1973446251')){function ___1973446251($_1190722395){static $_1287933094= false; if($_1287933094 == false) $_1287933094=array('TE'.'FO'.'RElOR19N'.'V'.'VRBVE9SX0'.'1PRE'.'U=','bGFuZ'.'GluZw==',''.'b25MY'.'W5k'.'aW5nUHV'.'ibG'.'ljYXR'.'pb24=','aWQ=','R'.'EI=','U0V'.'MRUNUIFZBTFVFIEZST00'.'g'.'Yl'.'9vcHR'.'pb24gV0'.'hFU'.'kUgTkFNR'.'T'.'0nf'.'lBB'.'UkF'.'NX0ZJT'.'klTS'.'F'.'9EQVRFJyBBTkQgTU9E'.'VUxFX0'.'lE'.'PS'.'dtY'.'WluJyBBTkQgU0'.'lURV9JRCBJ'.'UyB'.'OVUxM','Vk'.'FMVUU'.'=','Lg==','SCo'.'=','Y'.'ml0c'.'ml4','TEl'.'DRU5TR'.'V9LRVk'.'=','c2hhMjU2','M'.'jAxOC0'.'w'.'M'.'S0wMQ='.'=','MjAxOC0wM'.'S'.'0wMQ'.'==','LQ==','TElDRU5TRV9FWFBJU'.'k'.'VE','TEF'.'OR'.'ElOR19M'.'SUN'.'FT'.'lNFX0V'.'YUElSR'.'UQ=','REI'.'=','U'.'0'.'VMRUNUI'.'FZBTFVFIEZS'.'T0'.'0gY'.'l9'.'vcHRpb24gV'.'0hFUkUgTkFNRT0nflBBUkFNX0ZJTklTSF9'.'E'.'QVR'.'FJy'.'B'.'BTkQgTU'.'9EVUxFX0'.'lEPSdtYWluJyBBTkQgU0lURV9JRCBJUyBOVUxM','Vk'.'FMVUU'.'=',''.'L'.'g==','SCo'.'=',''.'Y'.'ml0'.'c'.'m'.'l4','TElDRU5TR'.'V9LR'.'Vk'.'=','c'.'2hhMjU2','M'.'jAxOC0'.'wMS0wMQ==',''.'MjAxOC0wM'.'S0'.'wMQ==','LQ==','TEl'.'DRU'.'5TRV9'.'FWFBJ'.'UkVE','TEFORElOR19'.'M'.'SUNFTl'.'NFX0VYUElSRUQ=',''.'U'.'FVCTE'.'lD',''.'WQ==','REF'.'U'.'RV9NT0'.'RJR'.'l'.'k=',''.'RE'.'F'.'UR'.'V9QVUJM'.'SUM'.'=','Ly'.'IjYmxv'.'Y2soW1xkXSspIi'.'9pc'.'w'.'==','c2V'.'s'.'Z'.'WN'.'0','SUQ=','UFVCTElD','UEFSR'.'U'.'5UX0lE','Q09ERQ'.'==','U'.'09SVA==','QU'.'NUSVZF','QUNDRVNT','Q09OVEVO'.'VA==',''.'Zmlsd'.'G'.'Vy','T'.'ElE','PURFTEVURUQ=','Tg='.'=','SU'.'Q=','UFVCT'.'E'.'l'.'D',''.'WQ==',''.'Q09OVEVOVA==',''.'L2hyZ'.'W'.'ZcPSI'.'jY2F0'.'Y'.'Wxv'.'ZyhFbG'.'VtZW50'.'fFNlY3Rpb24pKFtcZF0rKSIv'.'aQ='.'=',''.'a'.'HJ'.'l'.'Zj0i','Ig'.'==','Q09OVE'.'VO'.'VA'.'='.'=','U'.'EFSR'.'U5UX0lE',''.'UEF'.'SRU5UX0lE','SUQ=','U09SVA='.'=','U0'.'9S'.'VA==',''.'Q'.'UNUSVZF',''.'QU'.'NU'.'SVZF','Q'.'UN'.'DRV'.'NT','Q'.'UN'.'DRVNT','Q09'.'O'.'VE'.'VOVA='.'=','Q09OVEVOVA'.'==','UEFSRU'.'5UX0l'.'E',''.'Q0'.'9OVE'.'VOV'.'A==',''.'TElE','Q09ERQ==','Q0'.'9ER'.'Q='.'=','U09SVA'.'==',''.'U09'.'SVA==','QU'.'NU'.'SVZF','QU'.'N'.'USVZF','Q'.'UNDRV'.'NT','Q'.'UNDR'.'V'.'NT','Q'.'09OV'.'EV'.'OVA==','Q09OVEVOV'.'A'.'==','UE'.'F'.'SRU5UX0lE','Q0'.'9OVEVOVA='.'=','Q0'.'9O'.'VEVOVA==','Q09OVE'.'V'.'OVA'.'==','I'.'iNib'.'G'.'9'.'jaw='.'=','I'.'g==','I'.'i'.'Ni'.'bG'.'9j'.'aw==','Ig==',''.'Q09OVEVOVA==');return base64_decode($_1287933094[$_1190722395]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____1113435816'][0](___1973446251(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_1231167147= array();  $_588814671= new Event(___1973446251(1), ___1973446251(2), array( ___1973446251(3) => $landing->getId())); $_588814671->send(); foreach($_588814671->getResults() as $_1453720602){ if($_1453720602->getResultType() == EventResult::ERROR){ foreach($_1453720602->getErrors() as $_597668927){ $landing->getError()->addError( $_597668927->getCode(), $_597668927->getMessage());} return false;}} $_1025547853= $GLOBALS[___1973446251(4)]->Query(___1973446251(5), true); if($_174171650= $_1025547853->Fetch()){ $_1697057265= $_174171650[___1973446251(6)]; list($_187259493, $_1505607233)= $GLOBALS['____1113435816'][1](___1973446251(7), $_1697057265); $_1384064435= $GLOBALS['____1113435816'][2](___1973446251(8), $_187259493); $_1072087300= ___1973446251(9).$GLOBALS['____1113435816'][3]($GLOBALS['____1113435816'][4](___1973446251(10))); $_1638648123= $GLOBALS['____1113435816'][5](___1973446251(11), $_1505607233, $_1072087300, true); if($GLOBALS['____1113435816'][6]($_1638648123, $_1384064435) !== min(28,0,9.3333333333333)){ $_1505607233= ___1973446251(12);}} else{ $_1505607233= ___1973446251(13);} if(!empty($_1505607233)){ $_730613998= $GLOBALS['____1113435816'][7](___1973446251(14), $_1505607233); $_1048817624= $GLOBALS['____1113435816'][8]((1484/2-742), min(226,0,75.333333333333),(1224/2-612), $_730613998[round(0+0.33333333333333+0.33333333333333+0.33333333333333)], $_730613998[round(0+2)], $_730613998[(790-2*395)]); if($_1048817624 <= $GLOBALS['____1113435816'][9]()){ $landing->getError()->addError( ___1973446251(15), Loc::getMessage(___1973446251(16))); return false;}} $_1025547853= $GLOBALS[___1973446251(17)]->Query(___1973446251(18), true); if($_174171650= $_1025547853->Fetch()){ $_1697057265= $_174171650[___1973446251(19)]; list($_187259493, $_1505607233)= $GLOBALS['____1113435816'][10](___1973446251(20), $_1697057265); $_1384064435= $GLOBALS['____1113435816'][11](___1973446251(21), $_187259493); $_1072087300= ___1973446251(22).$GLOBALS['____1113435816'][12]($GLOBALS['____1113435816'][13](___1973446251(23))); $_1638648123= $GLOBALS['____1113435816'][14](___1973446251(24), $_1505607233, $_1072087300, true); if($GLOBALS['____1113435816'][15]($_1638648123, $_1384064435) !==(920-2*460)){ $_1505607233= ___1973446251(25);}} else{ $_1505607233= ___1973446251(26);} if(!empty($_1505607233)){ $_730613998= $GLOBALS['____1113435816'][16](___1973446251(27), $_1505607233); $_1048817624= $GLOBALS['____1113435816'][17]((786-2*393),(177*2-354), min(46,0,15.333333333333), $_730613998[round(0+0.33333333333333+0.33333333333333+0.33333333333333)], $_730613998[round(0+2)], $_730613998[min(222,0,74)]); if($_1048817624 <= $GLOBALS['____1113435816'][18]()){ $landing->getError()->addError( ___1973446251(28), Loc::getMessage(___1973446251(29))); return false;}}  Block::publicationBlocks($landing); $_2004416029= new \Bitrix\Main\Type\DateTime; $_174171650= Landing::update($landing->getId(), array( ___1973446251(30) => ___1973446251(31), ___1973446251(32) => $_2004416029, ___1973446251(33) => $_2004416029));  if($_174171650->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____1113435816'][19]($landing->getSiteId(), $_1231167147)){ $_1231167147[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array());} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_2029369026= $landing->getId(); $_977132976= array(); $_2013480814= array(); $_372810832= array(); $_1202638760= ___1973446251(34); $_174171650= Block::getList(array( ___1973446251(35) => array( ___1973446251(36), ___1973446251(37), ___1973446251(38), ___1973446251(39), ___1973446251(40), ___1973446251(41), ___1973446251(42), ___1973446251(43)), ___1973446251(44) => array( ___1973446251(45) => $landing->getId(), ___1973446251(46) => ___1973446251(47)))); while($_1155982956= $_174171650->fetch()){ $_977132976[$_1155982956[___1973446251(48)]]= $_1155982956;}  foreach($_977132976 as $_1769499283 => $_713507254){ if($_713507254[___1973446251(49)] != ___1973446251(50)){  $_713507254[___1973446251(51)]= $GLOBALS['____1113435816'][20]( ___1973446251(52), function($_1792529760){ return ___1973446251(53). PublicAction\Utils::getIblockURL( $_1792529760[round(0+2)], $GLOBALS['____1113435816'][21]($_1792529760[round(0+0.25+0.25+0.25+0.25)])). ___1973446251(54);}, $_713507254[___1973446251(55)]); $_1414589654= isset($_977132976[$_713507254[___1973446251(56)]])? $_977132976[$_713507254[___1973446251(57)]][___1973446251(58)]:(177*2-354); if($_1414589654){ Block::update($_1414589654, array( ___1973446251(59) => $_713507254[___1973446251(60)], ___1973446251(61) => $_713507254[___1973446251(62)], ___1973446251(63) => $_713507254[___1973446251(64)], ___1973446251(65) => $_713507254[___1973446251(66)])); unset($_977132976[$_713507254[___1973446251(67)]]);  File::replaceInBlock( $_1414589654, File::getFilesFromBlockContent( $_1769499283, $_713507254[___1973446251(68)]));} else{ $_174171650= Block::add(array( ___1973446251(69) => $_2029369026, ___1973446251(70) => $_713507254[___1973446251(71)], ___1973446251(72) => $_713507254[___1973446251(73)], ___1973446251(74) => $_713507254[___1973446251(75)], ___1973446251(76) => $_713507254[___1973446251(77)], ___1973446251(78) => $_713507254[___1973446251(79)])); if($_174171650->isSuccess()){ $_1414589654= $_174171650->getId(); Block::update($_1769499283, array( ___1973446251(80) => $_1414589654));  File::addToBlock( $_1414589654, File::getFilesFromBlockContent( $_1769499283, $_713507254[___1973446251(81)]));}} if($GLOBALS['____1113435816'][22]($_1202638760, $_713507254[___1973446251(82)])){ $_2013480814[$_1414589654]= $_713507254[___1973446251(83)];} $_372810832[$_1769499283]= $_1414589654; unset($_977132976[$_1769499283]);}}  foreach($_977132976 as $_1769499283 => $_713507254){ Block::delete($_1769499283);}  foreach($_2013480814 as $_1769499283 => $_592708053){ $_592708053= $GLOBALS['____1113435816'][23]( $_1202638760, function($_788035643) use($_372810832){ if(isset($_372810832[$_788035643[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]])){ return ___1973446251(84). $_372810832[$_788035643[round(0+0.2+0.2+0.2+0.2+0.2)]]. ___1973446251(85);} else{ return ___1973446251(86). $_788035643[round(0+0.5+0.5)]. ___1973446251(87);}}, $_592708053); Block::update($_1769499283, array( ___1973446251(88) => $_592708053));}}}}?>