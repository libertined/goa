{"version":3,"sources":["editor.js"],"names":["BX","namespace","resolver","currentImage","license","JSON","stringify","owner","version","enterprise_license","available_actions","features","platform","app_identifiers","api_token","domains","issued_at","expires_at","signature","Main","ImageEditor","predefinedOptions","this","popup","PopupWindow","util","getRandomString","zIndex","width","window","innerWidth","height","innerHeight","overlay","noAllPaddings","className","animationOptions","show","eventType","close","events","onPopupClose","bind","loader","Loader","onWindowResize","ratio","CUSTOM","SQUARE","4/3","16/9","PROFILE","FB_AD","FB_POST","FB_COVER","renderType","BASE64","IMAGE","BUFFER","BLOB","MSBLOB","createSDKInstance","image","options","assets","forceCrop","controlsOptions","library","type","isPlainObject","Object","assign","transform","isArray","categories","forEach","category","ratios","ratioItem","dimensions","PhotoEditorSDK","Math","Vector2","exportParams","download","export","UI","DesktopUI","container","baseUrl","showHeader","responsive","preloader","versionCheck","logLevel","language","editor","maxMegaPixels","desktop","displayCloseButton","extensions","languages","ru","ImageEditorLocale","prepareImage","proxy","Promise","resolve","reject","src","Image","crossOrigin","isString","add_url_param","sessid","bitrix_sessid","url","complete","onload","onerror","getFileName","split","pop","getInstance","instance","prototype","edit","Error","contentContainer","document","documentElement","style","overflow","onCustomEvent","popupContainer","then","imageInstance","dependencies","loadExt","SDKInstance","on","onExport","hide","apply","off","dispose","innerHTML","result","getOptions","fileName","setWidth","setHeight"],"mappings":"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","file":""}