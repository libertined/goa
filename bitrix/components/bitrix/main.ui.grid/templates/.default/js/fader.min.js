(function(){"use strict";BX.namespace("BX.Grid");BX.Grid.Fader=function(t){this.parent=null;this.table=null;this.container=null;this.init(t)};BX.Grid.Fader.prototype={init:function(t){this.parent=t;this.table=this.parent.getTable();this.container=this.table.parentNode;if(this.parent.getParam("ALLOW_PIN_HEADER")){this.fixedTable=this.parent.getPinHeader().getFixedTable()}BX.bind(window,"resize",BX.delegate(this.toggle,this));BX.bind(window,"scroll",BX.debounce(this._onWindowScroll,400,this));BX.bind(this.container,"scroll",BX.delegate(this.toggle,this));BX.addCustomEvent(window,"Grid::updated",BX.delegate(this.toggle,this));BX.addCustomEvent(window,"Grid::columnResize",BX.delegate(this.toggle,this));BX.bind(this.getEarLeft(),"mouseenter",BX.delegate(this._onMouseoverLeft,this));BX.bind(this.getEarRight(),"mouseenter",BX.delegate(this._onMouseoverRight,this));BX.bind(this.getEarLeft(),"mouseleave",BX.delegate(this._onMouseleaveLeft,this));BX.bind(this.getEarRight(),"mouseleave",BX.delegate(this._onMouseleaveRight,this));this.toggle();this.adjustEarOffset(true)},_onMouseoverLeft:function(){var t=this.container.scrollLeft;this.leftTimer=setTimeout(BX.proxy(function(){this.leftInterval=setInterval(BX.delegate(function(){t-=8;BX.Grid.Utils.requestAnimationFrame(BX.proxy(function(){this.container.scrollLeft=t},this))},this),1e3/60/2)},this),100)},_onMouseoverRight:function(){var t=this.container.scrollLeft;this.rightTimer=setTimeout(BX.proxy(function(){this.rightInterval=setInterval(BX.delegate(function(){t+=8;BX.Grid.Utils.requestAnimationFrame(BX.proxy(function(){this.container.scrollLeft=t},this))},this),1e3/60/2)},this),100)},_onMouseleaveLeft:function(){clearTimeout(this.leftTimer);clearInterval(this.leftInterval)},_onMouseleaveRight:function(){clearTimeout(this.rightTimer);clearInterval(this.rightInterval)},getEarLeft:function(){if(!this.earLeft){this.earLeft=BX.Grid.Utils.getByClass(this.parent.getContainer(),this.parent.settings.get("classEarLeft"),true)}return this.earLeft},getEarRight:function(){if(!this.earRight){this.earRight=BX.Grid.Utils.getByClass(this.parent.getContainer(),this.parent.settings.get("classEarRight"),true)}return this.earRight},adjustEarOffset:function(t){if(t){this.windowHeight=BX.height(window);this.tbodyPos=BX.pos(this.table.tBodies[0]);this.headerPos=BX.pos(this.table.tHead)}var e=window.scrollY+this.windowHeight-this.tbodyPos.top;var s=window.scrollY-this.tbodyPos.top;if(e>this.tbodyPos.bottom-this.tbodyPos.top){e=this.tbodyPos.bottom-this.tbodyPos.top}if(s<this.headerPos.height){s=this.headerPos.height}else{e-=s;e+=this.headerPos.height}BX.Grid.Utils.requestAnimationFrame(BX.proxy(function(){if(s!==this.lastPosTop){this.getEarLeft().style.transform="translate3d(0px, "+s+"px, 0)";this.getEarRight().style.transform="translate3d(0px, "+s+"px, 0)"}if(e!==this.lastBottomPos){this.getEarLeft().style.height=e+"px";this.getEarRight().style.height=e+"px"}this.lastPosTop=s;this.lastBottomPos=e},this))},_onWindowScroll:function(){this.adjustEarOffset()},toggle:function(){this.adjustEarOffset(true);if(this.fixedTable){BX.Grid.Utils.requestAnimationFrame(BX.proxy(function(){this.fixedTable.style.transform="translate3d(-"+this.container.scrollLeft+"px, 0px, 0)"},this))}if(this.table.offsetWidth>this.container.clientWidth){if(this.container.scrollLeft>0){BX.addClass(this.container.parentNode,this.parent.settings.get("classFadeContainerLeft"));BX.addClass(this.getEarLeft(),this.parent.settings.get("classShow"))}else{BX.removeClass(this.container.parentNode,this.parent.settings.get("classFadeContainerLeft"));BX.removeClass(this.getEarLeft(),this.parent.settings.get("classShow"))}if(this.table.offsetWidth>this.container.scrollLeft+this.container.clientWidth){BX.addClass(this.container.parentNode,this.parent.settings.get("classFadeContainerRight"));BX.addClass(this.getEarRight(),this.parent.settings.get("classShow"))}else{BX.removeClass(this.container.parentNode,this.parent.settings.get("classFadeContainerRight"));BX.removeClass(this.getEarRight(),this.parent.settings.get("classShow"))}}else{BX.removeClass(this.container.parentNode,this.parent.settings.get("classFadeContainerLeft"));BX.removeClass(this.container.parentNode,this.parent.settings.get("classFadeContainerRight"));BX.removeClass(this.getEarLeft(),this.parent.settings.get("classShow"));BX.removeClass(this.getEarRight(),this.parent.settings.get("classShow"))}}}})();
//# sourceMappingURL=fader.map.js